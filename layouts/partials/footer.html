<footer class="footer">
  <div class="footer__inner">
    {{ if $.Site.Copyright }}
      <div class="copyright copyright--user">
        <span>{{ $.Site.Copyright | safeHTML }}</span>
    {{else}}
      <div class="copyright">
        <span>Â© {{ now.Year }} Powered by <a href="http://gohugo.io">Hugo</a></span>
    {{end}}
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<a id="back-to-top" style="display: inline-block;" href="javascript:void(0);" onclick="window.scrollTo({top: 0, behavior: 'smooth'});">
  <span class="iconfont icon-top"></span>
</a>

<script src="{{ "assets/main.js" | absURL }}"></script>
{{/*  <script src="{{ "assets/prism.js" | absURL }}"></script>  */}}

<script>
document.querySelector('#post-toc').onclick = function(e) {
  document.querySelectorAll('#post-toc li a').forEach(function(ele) {
    ele.classList.remove('active');
  });
  e.target.classList.add('active');
}

document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
      e.preventDefault();

      document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
      });
  });
});

function addCopyButtons(clipboard) {
  document.querySelectorAll('pre > code').forEach(function (codeBlock) {
      var button = document.createElement('button');
      button.className = 'copy-code-button';
      button.type = 'button';
      button.innerText = 'Copy';

      button.addEventListener('click', function () {
          clipboard.writeText(codeBlock.innerText).then(function () {
              /* Chrome doesn't seem to blur automatically,
                 leaving the button in a focused state. */
              button.blur();

              button.innerText = 'Copied!';

              setTimeout(function () {
                  button.innerText = 'Copy';
              }, 2000);
          }, function (error) {
              button.innerText = 'Error';
          });
      });

      var pre = codeBlock.parentNode;
      if (pre.parentNode.classList.contains('highlight')) {
          var highlight = pre.parentNode;
          highlight.parentNode.insertBefore(button, highlight);
      } else {
          pre.parentNode.insertBefore(button, pre);
      }
  });
}

if (navigator && navigator.clipboard) {
  addCopyButtons(navigator.clipboard);
}

</script>

<!-- Extended footer section-->
{{ partial "extended_footer.html" . }}
